<!DOCTYPE html>
<head>
    <meta charset="UTF-8" />
    <style>
        thead {background-color: gray;}

        tbody tr:hover {background-color: skyblue;}
        tbody tr.selected {background-color: orange;}

        td {border:solid 1px;}
    </style>
    <title>HTML 샘플 페이지</title>
</head>
<body>
    <h1>식당 선택 프로그램</h1>
    * 오늘 특별히 가고싶은 식당이 있다면 클릭해서 선택해주세요. <br />
    선택된 식당이 있을 경우 해당 식당들 중에서만 골라집니다!
    <form>
        <div>
            <table id="restaurantTable">
                <thead>
                    <tr>
                        <td>
                            이름
                        </td>
                        <td>
                            위치(거리)
                        </td>
                        <td>
                            종류
                        </td>
                        <td>
                            테이블 수
                        </td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            해변에서
                        </td>
                        <td>
                            회사 바로 맞은편. 1분거리
                        </td>
                        <td>
                            한식
                        </td>
                        <td>
                            약 10개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            담소
                        </td>
                        <td>
                            회사 건물 1층.
                        </td>
                        <td>
                            한식 (육개장, 순대국)
                        </td>
                        <td>
                            약 30개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            식당 1
                        </td>
                        <td>
                            xx동 yy-z
                        </td>
                        <td>
                            식사
                        </td>
                        <td>
                            1개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            식당 2
                        </td>
                        <td>
                            xx동 yy-z
                        </td>
                        <td>
                            식사
                        </td>
                        <td>
                            1개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            식당 3
                        </td>
                        <td>
                            xx동 yy-z
                        </td>
                        <td>
                            식사
                        </td>
                        <td>
                            1개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            식당 4
                        </td>
                        <td>
                            xx동 yy-z
                        </td>
                        <td>
                            식사
                        </td>
                        <td>
                            1개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            식당 5
                        </td>
                        <td>
                            xx동 yy-z
                        </td>
                        <td>
                            식사
                        </td>
                        <td>
                            1개
                        </td>
                    </tr>
                    <tr>
                        <td>
                            식당 6
                        </td>
                        <td>
                            xx동 yy-z
                        </td>
                        <td>
                            식사
                        </td>
                        <td>
                            1개
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <input id="selectButton" type="button" value="골라주세요!" />

        <div id="resultText"></div>
    </form>
    
    <br /> <br />
    ** 자유 개발사항 ** <br />
    1. 자유롭게 포맷 변경 <br />
    2. js/css 파일 분리 <br />
    3. localstorage 이용하여 식당 리스트 저장, 저장된 리스트 배열로 가져와서 화면에 보여주기 (함수로 작성) <br />
    4. 리스트 추가 기능(입력 폼 작성) <br />

   <script>
        document.querySelectorAll("#restaurantTable tbody tr").forEach(function (tr) {
            tr.addEventListener("click", function() {
                tr.className = tr.className == "" ? "selected" : "";
            });
        });

        document.querySelector("#selectButton").addEventListener("click", function() {
            var selectedRows;

            if(document.querySelectorAll("tr.selected").length > 0)
                selectedRows = document.querySelectorAll("tr.selected");
            else
                selectedRows = document.querySelectorAll("#restaurantTable tbody tr");

            var menuCount = selectedRows.length;
            var rand = Math.floor(Math.random() * menuCount);

            document.querySelector("#resultText").innerHTML = "오늘은 " + selectedRows[rand].querySelector("td").innerText + "(으)로 갑시다!";
        });
    </script>
</body>